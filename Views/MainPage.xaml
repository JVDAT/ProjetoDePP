<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="TestesPP.Views.MainPage"
    BackgroundColor="#0F172A">

    <VerticalStackLayout Padding="20" Spacing="20">

        <VerticalStackLayout Spacing="4">
            <Label Text="Previsão do Tempo"
                   FontSize="36"
                   FontAttributes="Bold"
                   TextColor="White"/>

            <Label Text="Confira o clima para os próximos dias"
                   FontSize="16"
                   TextColor="#94A3B8"/>
        </VerticalStackLayout>

        <Frame BackgroundColor="#1E293B"
               CornerRadius="16"
               Padding="12">

            <Entry Placeholder="Digite o CEP"
                   Text="{Binding Cep}"
                   Keyboard="Numeric"
                   TextColor="White"
                   PlaceholderColor="#94A3B8"
                   FontSize="16"/>
        </Frame>

        <!-- Botão -->
        <Button Text="Buscar Previsão"
                Command="{Binding BuscarCommand}"
                BackgroundColor="#38BDF8"
                TextColor="#0F172A"
                FontAttributes="Bold"
                CornerRadius="14"
                HeightRequest="55"/>

        <!-- Lista de previsões -->
        <CollectionView ItemsSource="{Binding Previsoes}"
                        Margin="0,10,0,0">

            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame BackgroundColor="#1E293B"
                           CornerRadius="18"
                           Padding="16"
                           Margin="0,8">

                        <VerticalStackLayout Spacing="10">

                            <!-- Dia + Hoje -->
                            <HorizontalStackLayout Spacing="8">
                                <Label Text="{Binding DiaSemana}"
                                       FontSize="22"
                                       FontAttributes="Bold"
                                       TextColor="White"/>

                                <Label Text="Hoje"
                                       FontSize="16"
                                       TextColor="#38BDF8"
                                       IsVisible="{Binding EhHoje}"/>
                            </HorizontalStackLayout>

                            <!-- Ícone + Condição -->
                            <HorizontalStackLayout Spacing="16">
                                <Image Source="{Binding Icon}"
                                       WidthRequest="60"
                                       HeightRequest="60"/>

                                <Label Text="{Binding Condicao}"
                                       FontSize="18"
                                       TextColor="#CBD5E1"
                                       VerticalTextAlignment="Center"/>
                            </HorizontalStackLayout>

                            <!-- Temperaturas -->
                            <HorizontalStackLayout Spacing="30">
                                <Label Text="{Binding TempMax, StringFormat='Máx {0}°C'}"
                                       FontSize="18"
                                       TextColor="#F87171"/>

                                <Label Text="{Binding TempMin, StringFormat='Mín {0}°C'}"
                                       FontSize="18"
                                       TextColor="#60A5FA"/>
                            </HorizontalStackLayout>

                        </VerticalStackLayout>
                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>

        </CollectionView>

    </VerticalStackLayout>
</ContentPage>
